<form @submit.prevent="onSubmit">
  <div class="row">
    <div class="col-12" x-cloak x-show="paymentError">
      <div
        class="alert alert-warning"
        role="alert"
        x-text="paymentError"
      ></div>
    </div>
  </div>
  {% if product.type == 'variant' %}
  <div class="row mb-2">
    <div class="mb-3 col-12">
      <label for="method" class="form-label">Variant</label>
      <div class="d-flex flex-wrap variants">
        <template x-for="(variant, index) in product.variants">
          <button
            type="button"
            :class="`variant btn-primary ${index == activeVariant ? 'active' : ''}`"
            @click="() => {
            activeVariant = index;
          }"
          :title="variant.stock === 0 ? 'Out of Stock' : ''"
          :disabled="variant.stock === 0"
          >
            <div class="name-stock">
              <p class="name" x-text="variant.name"></p>
              <p class="stock text-muted">
                <span x-show="variant.stock === -1" class="stock-unlimited">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256"><path d="M248,128a56,56,0,0,1-95.6,39.6l-.33-.35L92.12,99.55a40,40,0,1,0,0,56.9l8.52-9.62a8,8,0,1,1,12,10.61l-8.69,9.81-.33.35a56,56,0,1,1,0-79.2l.33.35,59.95,67.7a40,40,0,1,0,0-56.9l-8.52,9.62a8,8,0,1,1-12-10.61l8.69-9.81.33-.35A56,56,0,0,1,248,128Z"></path></svg>
                  available
                </span>
                <span x-show="variant.stock > 0" x-text="variant.stock + ' available'"></span>
                <span x-show="variant.stock === 0">Out of stock</span>
              </p>
            </div>
            <div class="price">
              <span x-text="formatPrice(variant.price)"></span>
              <s x-show="variant.price_slash" class="opacity-50"><small x-text="formatPrice(variant.price_slash)"></small></s>
            </div>
            <template x-if="index == activeVariant">
              <div class="active-indicator">
                <svg
                  class="text-primary"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
            </template>
          </button>
        </template>
      </div>
      <small
        x-show="!(activeVariant in product.variants)"
        x-cloak
        class="form-text text-danger"
      >
        Please select a variant.
      </small>
    </div>
  </div>
  {% endif %}
  <div class="row mb-2">
    <div class="mb-3 col-12">
      <label for="quantity" class="form-label">Quantity</label>
      <div class="input-group col-4">
        <button
          @click="quantityDecrease"
          type="button"
          class="btn btn-outline-primary input-group-btn"
          :disabled="outOfStock"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19.5 12h-15"
            />
          </svg>
        </button>
        <input
          type="number"
          class="form-control"
          name="quantity"
          x-model.number="quantity"
          :disabled="outOfStock"
        />
        <button
          @click="quantityIncrease"
          type="button"
          class="btn btn-outline-primary input-group-btn"
          :disabled="outOfStock"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 4.5v15m7.5-7.5h-15"
            />
          </svg>
        </button>
      </div>

      <small
        x-show="!outOfStock && (quantity < minQuantity || quantity > maxQuantity)"
        x-cloak
        class="form-text text-danger"
      >
        Please enter a valid quantity (from <span x-text="minQuantity"></span> to <span x-text="maxQuantity"></span>).
      </small>

      <div x-show="availableVolumeDiscount" {{ 'x-cloak' if not product.volume_discounts }}>
        <div class="form-control text-center mt-2">
          Buy <span x-text="availableVolumeDiscount?.quantity - quantity"></span> more to get a <span x-text="availableVolumeDiscount?.percentage"></span>% discount.
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-2">
    <div class="mb-3 col-12">
      <label for="emailAddress" class="form-label"
        >E-mail Address</label
      >
      <input
        type="email"
        class="form-control"
        name="emailAddress"
        x-model="emailAddress"
        @input="emailInvalid = false"
        placeholder="name@domain.com"
        :disabled="outOfStock"
      />
      <small
        x-show="emailInvalid"
        x-cloak
        class="form-text text-danger"
      >
        Please enter a valid email address.
      </small>
    </div>
  </div>
  {% if product.custom_fields|length > 0 %}
    {% for field in product.custom_fields %}
      <div class="row mb-2">
        <div class="mb-3 col-12">
          {% if field.type != 'checkbox' %}
            <label for="{{ field.id }}" class="form-label">{{ field.name }} {{ '*' if field.is_required }}</label>
            {% if field.hint %}
              <small class="text-muted">{{ field.hint }}</small>
            {% endif %}
          {% endif %}
          {% if field.type == 'text' %}
            <input
              type="text"
              class="form-control"
              name="{{ field.id }}"
              placeholder="{{ field.placeholder }}"
              x-model="customFields['{{ field.id }}']"
              :disabled="outOfStock"
            />
          {% endif %}
          {% if field.type == 'textarea' %}
            <textarea
              class="form-control"
              name="{{ field.id }}"
              placeholder="{{ field.placeholder }}"
              x-model="customFields['{{ field.id }}']"
              :disabled="outOfStock"
            ></textarea>
          {% endif %}
          {% if field.type == 'checkbox' %}
            <label class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="{{ field.id }}"
                x-model="customFields['{{ field.id }}']"
                :disabled="outOfStock"
              />
              <div class="form-check-label">
                <span class="d-block">{{ field.name }} {{ '*' if field.is_required }}</span>
                {% if field.hint %}
                  <small class="text-muted">{{ field.hint }}</small>
                {% endif %}
              </div>
            </label>
          {% endif %}
          {% if field.type == 'select' %}
            <select
              class="form-select"
              name="{{ field.id }}"
              x-model="customFields['{{ field.id }}']"
              :disabled="outOfStock"
            >
              <option value="">Select a option</option>
              {% for option in field.options %}
                <option value="{{ option }}">{{ option }}</option>
              {% endfor %}
            </select>
          {% endif %}
          <small
            x-show="customFieldsInvalid?.['{{ field.id }}']"
            x-cloak
            class="form-text text-danger"
          >
            Please enter {{ field.name }}.
          </small>
      </div>
    {% endfor %}
  {% endif %}
  {% if coupons and coupons|length > 0 %}
  <div class="row mb-2">
    <div class="mb-3 col-12">
      <label for="couponCode" class="form-label"
        >Coupon Code</label
      >
      <div class="input-group col-4">
        <input
          type="input"
          class="form-control"
          name="couponCode"
          x-model="couponCode"
          @keydown.enter.prevent="checkCoupon"
          placeholder="MYCOUPON..."
        />
        <button
          @click="checkCoupon"
          type="button"
          class="btn btn-outline-primary input-group-btn"
          :disabled="outOfStock"
        >
          <template x-if="!isSubmitting">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256" style="width: 1rem; height: 1rem; vertical-align: -0.125em"><path d="M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63ZM84,96A12,12,0,1,1,96,84,12,12,0,0,1,84,96Z"></path></svg>
          </template>
          <template x-if="isSubmitting">
            <div class="spinner-border spinner-border-sm" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </template>
        </button>
      </div>
      <small
        x-show="couponError"
        x-text="couponError"
        x-cloak
        class="text-danger"></small>
      <small
        x-show="couponSuccess"
        x-text="couponSuccess"
        x-cloak
        class="text-success"></small>
    </div>
  </div>
  {% endif %}
  {% if shop.discord_integration_enabled and product.discord_guild_id %}
  <div class="row mb-2">
    <div class="mb-3 col-12 login-with-discord">
      <div>
        <label class="form-label">
          Discord {{ '*' if product.discord_required }}
        </label>
      </div>
      <template x-if="discordUser !== null">
        <div class="user">
          <img
            x-show="discordUser.avatar"
            :src="`https://cdn.discordapp.com/avatars/${discordUser.id}/${discordUser.avatar}.png`"
            :alt="discordUser.username"
            class="avatar"
          />
          <span x-show="!discordUser.avatar" class="avatar-placeholder">
            <span x-text="discordUser.username.charAt(0)"></span>
          </span>
          <span class="username" x-text="discordUser.username"></span>
          <button @click="disconnectDiscord" type="button" class="disconnect" title="Disconnect Discord">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>
          </button>
        </div>
      </template>
      <div x-show="discordUser === null">
        <button @click="connectDiscord" type="button" class="btn login">
          <svg x-show="!connectDiscordInterval" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#5865f2" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02M8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12m6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12"/></svg>
          <svg x-show="connectDiscordInterval" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-dasharray="15" stroke-dashoffset="15" stroke-linecap="round" stroke-width="2" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></svg>
          <span>Login with Discord</span>
          </span>
        </button>
      </div>
      <small
        x-show="discordUserInvalid"
        x-cloak
        class="form-text text-danger"
      >
        Please connect your Discord account to be able to purchase this product.
      </small>
    </div>
  </div>
  {% endif %}
  <div class="row mb-2">
    <div class="mb-3 col-12">
      <label for="method" class="form-label">Payment Method</label>
      <div class="payment-methods" x-cloak>
        <template x-for="method in methods">
          <button
            type="button"
            :class="`method ${paymentMethod == method.id ? 'active' : ''}`"
            @click="() => {
              paymentMethod = method.id;
              methodInvalid = false;
            }"
            :disabled="outOfStock || (method.minAmount !== null && parseFloat(totalPrice) < method.minAmount) || (method.maxAmount !== null && parseFloat(totalPrice) > method.maxAmount)"
            >
              <div class="left">
                <p x-text="method.name" class="name"></p>
                <p class="description">
                  <template x-if="method.via">
                    <span class="via">
                      Powered by <span x-html="method.via"></span>
                    </span>
                  </template>
                  <template x-if="method.minAmount !== null && method.maxAmount !== null">
                    <span>
                      <span x-show="method.via">•</span>
                      <span x-text="formatPrice(method.minAmount)"></span> - <span x-text="formatPrice(method.maxAmount)"></span>
                    </span>
                  </template>
                  <template x-if="method.minAmount !== null && method.maxAmount === null">
                    <span>
                      <span x-show="method.via">•</span>
                      From <span x-text="formatPrice(method.minAmount)"></span>
                    </span>
                  </template>
                  <template x-if="method.minAmount === null && method.maxAmount !== null">
                    <span>
                      <span x-show="method.via">•</span>
                      Up to <span x-text="formatPrice(method.maxAmount)"></span>
                    </span>
                  </template>
                  <template x-if="method.fee < 0">
                    <span>
                      <span x-show="method.via || method.minAmount || method.maxAmount">•</span>
                      <span x-text="Math.abs(method.fee)"></span>% discount
                    </span>
                  </template>
                  <template x-if="method.fee > 0">
                    <span>
                      <span x-show="method.via || method.minAmount || method.maxAmount">•</span>
                      <span x-text="method.fee"></span>% fee
                    </span>
                  </template>
                </p>
              </div>

              <div class="icons">
                <template x-for="icon in method.icons">
                  <span x-html="icon"></span>
                </template>
              </div>
          </button>
        </template>
      </div>
      <small
        x-show="methodInvalid"
        x-cloak
        class="form-text text-danger"
      >
        Please select a payment method.
      </small>
    </div>

    {% if not is_embed %}
    <div class="mb-3 col-12">
      <label class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          x-model="tos"
          :disabled="outOfStock"
        />
        <div class="form-check-label">
          <span class="d-block">
            I have read and agree to {{ shop.name }}'s <a href="{{ '/terms' | shopUrl }}" target="_blank" class="text-accent-500">Terms of Service</a>.
          </span>
        </div>
      </label>
      </small>
      <small
        x-show="tosInvalid"
        x-cloak
        class="form-text text-danger"
      >
        Please accept the Terms of Service.
      </small>
    </div>
    {% endif %}

    <div class="mb-3 col-12">
      <label class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          x-model="newsletter"
          value="1"
          :disabled="outOfStock"
        />
        <div class="form-check-label">
          <span class="d-block">
            I would like to receive updates and promotions from {{ shop.name }}.
          </span>
        </div>
      </label>
      </small>
    </div>

    <div class="mb-3 col-12 your-order">
      <div>
        <label class="form-label">Your Order</label>
      </div>
      <div class="items">
        <div class="item">
          <span class="label">
            Subtotal
          </span>
          <span class="value">
            <span class="small">
              <span x-text="quantity"></span>x <span x-text="formatPrice(singleUnitPrice)"></span> =
            </span>
            <span x-text="formatPrice(parseFloat(subTotalPrice).toFixed(2))"></span>
          </span>
        </div>
        <template x-if="appliedVolumeDiscount">
          <div class="item">
            <span class="label">
              Volume Discount (<span x-text="appliedVolumeDiscount.percentage"></span>%)
            </span>
            <span class="value">
              <span x-text="formatPrice(parseFloat(subTotalPrice * appliedVolumeDiscount.percentage / 100).toFixed(2))"></span>
            </span>
          </div>
        </template>
        <template x-if="appliedCoupon">
          <div class="item">
            <span class="label">
              Coupon Code (<span x-text="appliedCoupon.code"></span>)
            </span>
            <span class="value">
              <span x-text="formatPrice(parseFloat(appliedCouponDiscount).toFixed(2))"></span>
            </span>
          </div>
        </template>
        <template x-if="appliedPaymentMethodFee !== 0">
          <div class="item">
            <span class="label">
              Payment Method
              <span x-text="appliedPaymentMethodFee > 0 ? 'Fee' : 'Discount'"></span>
              (<span x-text="appliedPaymentMethodFee"></span>%)
            </span>
            <span class="value">
              <span x-text="formatPrice(parseFloat(subTotalPrice * appliedPaymentMethodFee / 100).toFixed(2))"></span>
            </span>
          </div>
        </template>
        <div class="item total">
          <span class="label">Total</span>
          <span class="value">
            <span x-text="formatPrice(totalPrice)"></span>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-end">
    <button
      type="submit"
      class="btn btn-primary"
      :disabled="outOfStock || product.visibility == 'on_hold' || isSubmitting"
    >
      <template x-if="!isSubmitting">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          style="width: 1rem; height: 1rem; vertical-align: -0.125em"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"
          />
        </svg>
      </template>
      <template x-if="isSubmitting">
        <div class="spinner-border spinner-border-sm" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </template>
      <span>
        <span x-show="product.visibility == 'on_hold'" x-cloak>On Hold</span>
        <span x-show="product.visibility != 'on_hold' && outOfStock" x-cloak>Out of Stock</span>
        <span x-show="product.visibility != 'on_hold' && !outOfStock">Purchase</span>
      </span>
    </button>
  </div>
  {% if shop.recaptcha_key %}
  <div class="mt-4 text-center">
    <p class="text-muted" style="font-size: 0.75rem">
      This site is protected by reCAPTCHA and the Google
      <a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a> and
      <a href="https://policies.google.com/terms" target="_blank">Terms of Service</a> apply.
    </p>
  </div>
  {% endif %}
</form>

<div class="modal fade" id="loading-modal" tabindex="-1" aria-labelledby="loading-modal-label" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loading-modal-label">
          Loading payment page...
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p class="text-base mb-0">
          Page didn't open? <a :href="invoiceUrl" target="_blank">Click here</a> to finish your order.
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('alpine:init', () => {
    const paymentMethodSvgs = {
      sellauth: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 154.2 32" width="154.2pt" height="32pt"><defs><clipPath id="_clipPath_kuGhACrsqWB9ItFRubgoWTGlXlleyo0q"><rect width="154.2" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_kuGhACrsqWB9ItFRubgoWTGlXlleyo0q)"><path d=" M 13.646 22.283 L 13.646 22.283 L 13.646 22.283 Q 13.646 20.863 12.643 20.102 L 12.643 20.102 L 12.643 20.102 Q 11.641 19.342 9.034 18.498 L 9.034 18.498 L 9.034 18.498 Q 6.427 17.654 4.907 16.836 L 4.907 16.836 L 4.907 16.836 Q 0.763 14.596 0.763 10.803 L 0.763 10.803 L 0.763 10.803 Q 0.763 8.832 1.874 7.286 L 1.874 7.286 L 1.874 7.286 Q 2.985 5.74 5.066 4.872 L 5.066 4.872 L 5.066 4.872 Q 7.146 4.003 9.736 4.003 L 9.736 4.003 L 9.736 4.003 Q 12.343 4.003 14.381 4.947 L 14.381 4.947 L 14.381 4.947 Q 16.42 5.891 17.548 7.612 L 17.548 7.612 L 17.548 7.612 Q 18.675 9.333 18.675 11.522 L 18.675 11.522 L 13.663 11.522 L 13.663 11.522 Q 13.663 9.851 12.61 8.924 L 12.61 8.924 L 12.61 8.924 Q 11.557 7.996 9.652 7.996 L 9.652 7.996 L 9.652 7.996 Q 7.814 7.996 6.795 8.773 L 6.795 8.773 L 6.795 8.773 Q 5.776 9.55 5.776 10.82 L 5.776 10.82 L 5.776 10.82 Q 5.776 12.006 6.97 12.809 L 6.97 12.809 L 6.97 12.809 Q 8.165 13.611 10.488 14.312 L 10.488 14.312 L 10.488 14.312 Q 14.765 15.599 16.721 17.504 L 16.721 17.504 L 16.721 17.504 Q 18.675 19.409 18.675 22.249 L 18.675 22.249 L 18.675 22.249 Q 18.675 25.407 16.286 27.204 L 16.286 27.204 L 16.286 27.204 Q 13.897 29 9.853 29 L 9.853 29 L 9.853 29 Q 7.046 29 4.74 27.972 L 4.74 27.972 L 4.74 27.972 Q 2.434 26.945 1.222 25.157 L 1.222 25.157 L 1.222 25.157 Q 0.011 23.369 0.011 21.013 L 0.011 21.013 L 5.041 21.013 L 5.041 21.013 Q 5.041 25.04 9.853 25.04 L 9.853 25.04 L 9.853 25.04 Q 11.641 25.04 12.643 24.313 L 12.643 24.313 L 12.643 24.313 Q 13.646 23.586 13.646 22.283 Z  M 30.071 29 L 30.071 29 L 30.071 29 Q 26.095 29 23.596 26.56 L 23.596 26.56 L 23.596 26.56 Q 21.098 24.121 21.098 20.06 L 21.098 20.06 L 21.098 19.593 L 21.098 19.593 Q 21.098 16.869 22.151 14.722 L 22.151 14.722 L 22.151 14.722 Q 23.204 12.574 25.134 11.413 L 25.134 11.413 L 25.134 11.413 Q 27.064 10.252 29.537 10.252 L 29.537 10.252 L 29.537 10.252 Q 33.246 10.252 35.377 12.591 L 35.377 12.591 L 35.377 12.591 Q 37.507 14.931 37.507 19.225 L 37.507 19.225 L 37.507 21.197 L 25.994 21.197 L 25.994 21.197 Q 26.228 22.968 27.406 24.037 L 27.406 24.037 L 27.406 24.037 Q 28.584 25.107 30.389 25.107 L 30.389 25.107 L 30.389 25.107 Q 33.179 25.107 34.75 23.085 L 34.75 23.085 L 37.123 25.742 L 37.123 25.742 Q 36.037 27.279 34.182 28.139 L 34.182 28.139 L 34.182 28.139 Q 32.327 29 30.071 29 Z  M 29.52 14.162 L 29.52 14.162 L 29.52 14.162 Q 28.083 14.162 27.189 15.131 L 27.189 15.131 L 27.189 15.131 Q 26.295 16.1 26.044 17.905 L 26.044 17.905 L 32.762 17.905 L 32.762 17.521 L 32.762 17.521 Q 32.728 15.916 31.893 15.039 L 31.893 15.039 L 31.893 15.039 Q 31.057 14.162 29.52 14.162 Z  M 45.344 3 L 45.344 28.666 L 40.498 28.666 L 40.498 3 L 45.344 3 Z  M 54.417 3 L 54.417 28.666 L 49.571 28.666 L 49.571 3 L 54.417 3 Z " fill-rule="evenodd" fill="rgb(255,255,255)"/><path d=" M 75.12 28.666 L 72.798 22.316 L 62.605 22.316 L 60.316 28.666 L 57.007 28.666 L 66.298 4.337 L 69.105 4.337 L 78.412 28.666 L 75.12 28.666 Z  M 67.701 8.297 L 63.574 19.676 L 71.845 19.676 L 67.701 8.297 Z  M 92.248 28.666 L 92.181 26.878 L 92.181 26.878 Q 90.376 29 86.884 29 L 86.884 29 L 86.884 29 Q 83.993 29 82.481 27.321 L 82.481 27.321 L 82.481 27.321 Q 80.969 25.641 80.952 22.35 L 80.952 22.35 L 80.952 10.586 L 84.043 10.586 L 84.043 22.266 L 84.043 22.266 Q 84.043 26.377 87.385 26.377 L 87.385 26.377 L 87.385 26.377 Q 90.927 26.377 92.097 23.737 L 92.097 23.737 L 92.097 10.586 L 95.189 10.586 L 95.189 28.666 L 92.248 28.666 Z  M 100.987 6.208 L 104.078 6.208 L 104.078 10.586 L 107.453 10.586 L 107.453 12.976 L 104.078 12.976 L 104.078 24.188 L 104.078 24.188 Q 104.078 25.274 104.529 25.817 L 104.529 25.817 L 104.529 25.817 Q 104.98 26.36 106.066 26.36 L 106.066 26.36 L 106.066 26.36 Q 106.601 26.36 107.537 26.159 L 107.537 26.159 L 107.537 28.666 L 107.537 28.666 Q 106.317 29 105.164 29 L 105.164 29 L 105.164 29 Q 103.092 29 102.039 27.747 L 102.039 27.747 L 102.039 27.747 Q 100.987 26.494 100.987 24.188 L 100.987 24.188 L 100.987 12.976 L 97.695 12.976 L 97.695 10.586 L 100.987 10.586 L 100.987 6.208 Z  M 114.154 3 L 114.154 12.775 L 114.154 12.775 Q 116.209 10.252 119.501 10.252 L 119.501 10.252 L 119.501 10.252 Q 125.232 10.252 125.282 16.719 L 125.282 16.719 L 125.282 28.666 L 122.191 28.666 L 122.191 16.702 L 122.191 16.702 Q 122.174 14.747 121.297 13.811 L 121.297 13.811 L 121.297 13.811 Q 120.42 12.875 118.565 12.875 L 118.565 12.875 L 118.565 12.875 Q 117.061 12.875 115.925 13.677 L 115.925 13.677 L 115.925 13.677 Q 114.789 14.479 114.154 15.783 L 114.154 15.783 L 114.154 28.666 L 111.063 28.666 L 111.063 3 L 114.154 3 Z " fill="rgb(101,113,255)"/></g></svg>',
      stripe: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate;margin-top:1px;" viewBox="0 0 76.57 32" width="76.57pt" height="32pt"><defs><clipPath id="_clipPath_t4VJAKa97tE52JO9QrTLu92s43jomMsy"><rect width="76.57" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_t4VJAKa97tE52JO9QrTLu92s43jomMsy)"><path d=" M 76.561 16.461 C 76.561 11.016 73.924 6.72 68.884 6.72 C 63.822 6.72 60.76 11.016 60.76 16.418 C 60.76 22.819 64.376 26.052 69.565 26.052 C 72.095 26.052 74.009 25.478 75.455 24.67 L 75.455 20.416 C 74.01 21.139 72.351 21.586 70.245 21.586 C 68.182 21.586 66.353 20.863 66.119 18.353 L 76.519 18.353 C 76.519 18.077 76.561 16.971 76.561 16.461 Z  M 66.056 14.44 C 66.056 12.037 67.523 11.037 68.863 11.037 C 70.16 11.037 71.543 12.037 71.543 14.44 L 66.056 14.44 Z  M 52.551 6.72 C 50.467 6.72 49.127 7.699 48.383 8.379 L 48.106 7.061 L 43.428 7.061 L 43.428 31.858 L 48.744 30.731 L 48.766 24.712 C 49.531 25.265 50.658 26.052 52.53 26.052 C 56.337 26.052 59.803 22.989 59.803 16.248 C 59.782 10.08 56.273 6.72 52.551 6.72 M 51.275 21.373 C 50.02 21.373 49.276 20.927 48.766 20.374 L 48.744 12.484 C 49.297 11.867 50.063 11.442 51.275 11.442 C 53.21 11.442 54.55 13.611 54.55 16.397 C 54.55 19.247 53.231 21.373 51.275 21.373 M 36.112 5.466 L 41.45 4.317 L 41.45 0 L 36.112 1.127 L 36.112 5.466 Z  M 36.112 7.082 L 41.45 7.082 L 41.45 25.69 L 36.112 25.69 L 36.112 7.082 Z  M 30.391 8.656 L 30.051 7.082 L 25.457 7.082 L 25.457 25.69 L 30.774 25.69 L 30.774 13.079 C 32.029 11.442 34.155 11.739 34.815 11.973 L 34.815 7.082 C 34.134 6.827 31.646 6.359 30.391 8.656 Z  M 19.758 2.467 L 14.568 3.573 L 14.547 20.608 C 14.547 23.755 16.908 26.073 20.055 26.073 C 21.799 26.073 23.075 25.754 23.777 25.371 L 23.777 21.054 C 23.097 21.331 19.736 22.309 19.736 19.161 L 19.736 11.612 L 23.777 11.612 L 23.777 7.082 L 19.736 7.082 L 19.758 2.467 Z  M 5.381 12.484 C 5.381 11.654 6.062 11.335 7.189 11.335 C 8.805 11.335 10.847 11.824 12.463 12.696 L 12.463 7.699 C 10.698 6.997 8.954 6.72 7.189 6.72 C 2.872 6.72 0.001 8.975 0.001 12.739 C 0.001 18.608 8.082 17.673 8.082 20.204 C 8.082 21.182 7.231 21.501 6.04 21.501 C 4.275 21.501 2.021 20.778 0.235 19.799 L 0.235 24.861 C 2.212 25.712 4.212 26.073 6.04 26.073 C 10.464 26.073 13.505 23.883 13.505 20.076 C 13.484 13.738 5.381 14.865 5.381 12.484" fill="rgb(99,91,255)"/></g></svg>',
      square: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate;margin-top:2px;" viewBox="0 0 105 32" width="105pt" height="32pt"><defs><clipPath id="_clipPath_Z4Orrq20ZCaistB638W4xUTblcoEKIH9"><rect width="105" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_Z4Orrq20ZCaistB638W4xUTblcoEKIH9)"><path d=" M -16.583 -6.562 L -42.217 -6.562 C -45.77 -6.562 -48.65 -3.682 -48.65 -0.129 L -48.65 25.504 C -48.65 29.057 -45.77 31.938 -42.217 31.938 L -16.583 31.938 C -13.03 31.938 -10.15 29.057 -10.15 25.504 L -10.15 -0.129 C -10.15 -3.682 -13.03 -6.562 -16.583 -6.562 Z  M -17.149 22.907 C -17.149 24.029 -18.058 24.939 -19.181 24.939 L -39.619 24.939 C -40.742 24.939 -41.651 24.029 -41.651 22.907 L -41.651 2.468 C -41.651 1.346 -40.742 0.436 -39.619 0.436 L -19.181 0.436 C -18.058 0.436 -17.149 1.346 -17.149 2.468 L -17.149 22.907 Z  M -33.483 17.913 C -34.131 17.913 -34.649 17.391 -34.649 16.744 L -34.649 8.585 C -34.649 7.938 -34.131 7.412 -33.483 7.412 L -25.312 7.412 C -24.669 7.412 -24.147 7.934 -24.147 8.585 L -24.147 16.741 C -24.147 17.387 -24.669 17.909 -25.312 17.909 L -33.483 17.909 L -33.483 17.913 Z  M 0.057 17.356 L 4.261 17.356 C 4.47 19.737 6.085 21.594 9.339 21.594 C 12.247 21.594 14.035 20.159 14.035 17.987 C 14.035 15.954 12.634 15.044 10.111 14.449 L 6.851 13.749 C 3.313 12.977 0.649 10.701 0.649 6.986 C 0.649 2.887 4.292 0.084 9.023 0.084 C 14.032 0.084 17.256 2.712 17.535 6.598 L 13.47 6.598 C 12.986 4.779 11.476 3.695 9.027 3.695 C 6.433 3.695 4.648 5.097 4.648 6.885 C 4.648 8.674 6.19 9.757 8.852 10.353 L 12.077 11.054 C 15.615 11.825 18.03 13.962 18.03 17.708 C 18.03 22.474 14.458 25.311 9.344 25.311 C 3.596 25.307 0.41 22.191 0.057 17.356 Z  M 33.069 31.938 L 33.069 24.967 L 33.343 21.908 L 33.069 21.908 C 32.105 24.106 30.08 25.311 27.332 25.311 C 22.9 25.311 19.602 21.703 19.602 16.172 C 19.602 10.64 22.9 7.032 27.332 7.032 C 30.045 7.032 31.969 8.302 33.069 10.296 L 33.343 10.296 L 33.343 7.373 L 36.986 7.373 L 36.986 31.938 L 33.069 31.938 Z  M 33.205 16.167 C 33.205 12.63 31.04 10.566 28.392 10.566 C 25.745 10.566 23.581 12.63 23.581 16.167 C 23.581 19.705 25.745 21.769 28.392 21.769 C 31.04 21.769 33.205 19.709 33.205 16.167 Z  M 39.893 17.991 L 39.893 7.373 L 43.81 7.373 L 43.81 17.646 C 43.81 20.43 45.149 21.769 47.383 21.769 C 50.131 21.769 51.92 19.81 51.92 16.752 L 51.92 7.373 L 55.838 7.373 L 55.838 24.962 L 52.195 24.962 L 52.195 21.32 L 51.92 21.32 C 51.06 23.658 49.171 25.307 46.252 25.307 C 42.057 25.307 39.893 22.628 39.893 17.991 Z  M 58.221 20.049 C 58.221 16.752 60.525 14.828 64.612 14.588 L 69.455 14.278 L 69.455 12.904 C 69.455 11.256 68.252 10.261 66.122 10.261 C 64.163 10.261 62.994 11.256 62.685 12.665 L 58.767 12.665 C 59.181 9.091 62.135 7.028 66.118 7.028 C 70.621 7.028 73.369 8.952 73.369 12.665 L 73.369 24.962 L 69.727 24.962 L 69.727 21.699 L 69.451 21.699 C 68.627 23.863 66.908 25.307 63.61 25.307 C 60.455 25.307 58.221 23.178 58.221 20.049 Z  M 69.46 17.886 L 69.46 16.957 L 65.507 17.232 C 63.378 17.368 62.414 18.161 62.414 19.74 C 62.414 21.079 63.514 22.043 65.057 22.043 C 67.845 22.043 69.46 20.259 69.46 17.886 Z  M 76.291 24.967 L 76.291 7.373 L 79.934 7.373 L 79.934 10.741 L 80.208 10.741 C 80.723 8.437 82.477 7.373 85.086 7.373 L 86.874 7.373 L 86.874 10.91 L 84.641 10.91 C 82.097 10.91 80.208 12.56 80.208 15.687 L 80.208 24.962 L 76.291 24.962 L 76.291 24.967 Z  M 104.797 16.891 L 91.43 16.891 C 91.636 20.119 93.903 21.943 96.412 21.943 C 98.542 21.943 99.881 21.083 100.639 19.639 L 104.521 19.639 C 103.457 23.212 100.329 25.307 96.377 25.307 C 91.19 25.307 87.547 21.425 87.547 16.167 C 87.547 10.91 91.29 7.028 96.412 7.028 C 101.564 7.028 104.933 10.566 104.933 14.964 C 104.936 15.826 104.866 16.272 104.797 16.891 Z  M 101.054 14.178 C 100.918 11.739 98.889 10.09 96.416 10.09 C 94.078 10.09 92.123 11.569 91.639 14.178 L 101.054 14.178 Z " fill="currentColor"/></g></svg>',
      sumup: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate;margin-top:5px;" viewBox="0 0 104.7 32" width="104.7pt" height="32pt"><defs><clipPath id="_clipPath_cTv9OYIlLtxdWTxdqBCg7C984MRbAYcI"><rect width="104.7" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_cTv9OYIlLtxdWTxdqBCg7C984MRbAYcI)"><path d=" M 7.33 8.512 C 5.202 7.645 3.862 7.094 3.862 5.833 C 3.862 4.808 4.65 3.862 6.463 3.862 C 7.567 3.862 8.512 4.335 9.222 5.281 C 9.695 5.833 10.167 6.148 10.719 6.148 C 11.823 6.148 12.69 5.281 12.69 4.256 C 12.69 3.862 12.611 3.468 12.374 3.232 C 11.192 1.419 8.749 0.158 6.463 0.158 C 3.31 0.158 0.079 2.128 0.079 5.911 C 0.079 9.773 3.232 11.034 5.833 11.98 C 7.882 12.768 9.695 13.478 9.695 15.133 C 9.695 16.394 8.512 17.655 6.305 17.655 C 5.596 17.655 4.335 17.498 3.468 16.473 C 2.995 15.921 2.443 15.685 1.97 15.685 C 0.946 15.685 0 16.552 0 17.576 C 0 17.97 0.158 18.365 0.394 18.68 C 1.576 20.493 4.256 21.36 6.305 21.36 C 9.773 21.36 13.557 19.153 13.557 15.133 C 13.478 10.877 10.089 9.537 7.33 8.512 L 7.33 8.512 Z  M 85.517 0.079 L 85.438 0.079 C 81.655 0.079 78.66 3.074 78.66 6.778 L 78.66 30.108 C 78.66 31.133 79.527 32 80.552 32 C 81.576 32 82.443 31.133 82.443 30.108 L 82.443 20.414 C 83.153 21.044 84.335 21.36 85.438 21.36 L 85.517 21.36 C 89.3 21.36 92.138 18.128 92.138 14.424 L 92.138 6.621 C 92.138 2.916 89.3 0.079 85.517 0.079 L 85.517 0.079 Z  M 88.512 14.581 C 88.512 16.631 87.172 17.498 85.596 17.498 L 85.517 17.498 C 83.862 17.498 82.601 16.631 82.601 14.581 L 82.601 6.778 C 82.601 5.202 83.941 3.862 85.517 3.862 L 85.596 3.862 C 87.251 3.862 88.512 5.123 88.512 6.778 L 88.512 14.581 Z  M 50.601 0.079 L 50.522 0.079 C 48.631 0.079 46.975 0.867 45.793 2.049 C 44.611 0.867 42.877 0.079 41.064 0.079 L 40.985 0.079 C 37.36 0.079 34.365 2.995 34.365 6.7 L 34.365 19.547 C 34.443 20.571 35.232 21.36 36.256 21.36 C 37.281 21.36 38.069 20.571 38.148 19.547 L 38.148 6.7 C 38.148 5.123 39.409 3.862 40.985 3.862 L 41.064 3.862 C 42.64 3.862 43.823 5.044 43.901 6.621 L 43.901 19.547 C 43.997 20.478 44.653 21.36 45.714 21.36 C 46.739 21.36 47.527 20.571 47.606 19.547 L 47.606 6.542 C 47.685 5.044 48.946 3.783 50.443 3.783 L 50.522 3.783 C 52.099 3.783 53.36 5.044 53.36 6.621 L 53.36 19.547 C 53.438 20.571 54.227 21.36 55.251 21.36 C 56.276 21.36 57.064 20.571 57.143 19.547 L 57.143 6.7 C 57.222 3.074 54.227 0.079 50.601 0.079 Z  M 28.217 0.079 C 27.192 0.079 26.404 0.867 26.325 1.892 L 26.325 14.739 C 26.325 16.315 25.064 17.576 23.409 17.576 L 23.33 17.576 C 21.754 17.576 20.414 16.315 20.414 14.739 L 20.414 1.813 C 20.335 0.788 19.547 0 18.522 0 C 17.498 0 16.709 0.788 16.631 1.813 L 16.631 14.66 C 16.631 18.286 19.626 21.281 23.33 21.281 L 23.409 21.281 C 27.113 21.281 30.108 18.286 30.108 14.66 L 30.108 1.892 C 30.108 0.867 29.241 0.079 28.217 0.079 L 28.217 0.079 Z  M 72.985 0.079 C 71.961 0.079 71.172 0.867 71.094 1.892 L 71.094 14.739 C 71.094 16.315 69.833 17.576 68.177 17.576 L 68.099 17.576 C 66.522 17.576 65.182 16.315 65.182 14.739 L 65.182 1.813 C 65.103 0.788 64.315 0 63.291 0 C 62.266 0 61.478 0.788 61.399 1.813 L 61.399 14.66 C 61.399 18.286 64.394 21.281 68.099 21.281 L 68.177 21.281 C 71.882 21.281 74.877 18.286 74.877 14.66 L 74.877 1.892 C 74.798 0.867 74.01 0.079 72.985 0.079 Z " fill-rule="evenodd" fill="currentColor"/><path d=" M 101.36 4.02 C 101.833 3.941 102.148 3.547 102.148 3.074 C 102.148 2.443 101.675 2.049 100.966 2.049 L 100.02 2.049 C 99.783 2.049 99.626 2.207 99.626 2.443 L 99.626 5.044 C 99.626 5.281 99.783 5.438 100.02 5.438 C 100.256 5.438 100.414 5.281 100.414 5.044 L 100.414 4.099 L 101.36 5.281 C 101.438 5.438 101.517 5.438 101.754 5.438 C 102.069 5.438 102.148 5.202 102.148 5.044 C 102.148 4.887 102.069 4.808 101.99 4.729 L 101.36 4.02 Z  M 101.044 3.468 L 100.571 3.468 L 100.571 2.68 L 101.044 2.68 C 101.281 2.68 101.438 2.837 101.438 3.074 C 101.438 3.232 101.281 3.468 101.044 3.468 Z  M 100.966 0.079 C 98.916 0.079 97.182 1.734 97.182 3.862 C 97.182 5.911 98.837 7.645 100.966 7.645 C 103.015 7.645 104.749 5.99 104.749 3.862 C 104.749 1.813 103.094 0.079 100.966 0.079 Z  M 100.966 6.7 C 99.389 6.7 98.128 5.438 98.128 3.862 C 98.128 2.286 99.389 1.025 100.966 1.025 C 102.542 1.025 103.803 2.286 103.803 3.862 C 103.803 5.438 102.542 6.7 100.966 6.7 Z " fill="currentColor"/></g></svg>',
      mollie: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate;margin-top:-3px;" viewBox="0 0 108.5 32" width="108.5pt" height="32pt"><defs><clipPath id="_clipPath_45y3fNSFYCIvh4gJEfF1jYDCxi70AHWJ"><rect width="108.5" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_45y3fNSFYCIvh4gJEfF1jYDCxi70AHWJ)"><path d=" M 98.067 15.095 C 100.423 15.095 102.538 16.649 103.275 18.844 L 92.875 18.844 C 93.612 16.633 95.712 15.095 98.067 15.095 L 98.067 15.095 Z  M 108.499 20.735 C 108.499 17.995 107.425 15.415 105.502 13.46 C 103.563 11.505 100.999 10.416 98.275 10.416 C 98.227 10.416 98.179 10.416 98.147 10.416 C 95.327 10.448 92.651 11.569 90.648 13.572 C 88.645 15.575 87.523 18.235 87.491 21.072 C 87.459 23.972 88.565 26.696 90.616 28.779 C 92.667 30.862 95.391 32 98.275 32 L 98.291 32 C 102.089 32 105.646 29.965 107.585 26.712 L 107.826 26.295 L 103.563 24.196 L 103.355 24.549 C 102.281 26.311 100.439 27.353 98.388 27.353 C 95.76 27.353 93.5 25.606 92.795 23.107 L 108.499 23.107 L 108.499 20.735 L 108.499 20.735 L 108.499 20.735 Z  M 81.787 6.73 C 79.928 6.73 78.422 5.224 78.422 3.365 C 78.422 1.506 79.928 0 81.787 0 C 83.645 0 85.152 1.506 85.152 3.365 C 85.168 5.224 83.645 6.73 81.787 6.73 Z  M 79.207 31.567 L 84.367 31.567 L 84.367 10.848 L 79.207 10.848 L 79.207 31.567 Z  M 69.336 0.449 L 74.496 0.449 L 74.496 31.583 L 69.336 31.583 L 69.336 0.449 Z  M 59.465 31.567 L 64.625 31.567 L 64.625 0.449 L 59.465 0.449 L 59.465 31.567 L 59.465 31.567 Z  M 45.893 26.888 C 42.768 26.888 40.22 24.341 40.22 21.216 C 40.22 18.091 42.768 15.543 45.893 15.543 C 49.018 15.543 51.565 18.091 51.565 21.216 C 51.565 24.341 49.018 26.888 45.893 26.888 L 45.893 26.888 Z  M 45.893 10.4 C 39.932 10.4 35.093 15.255 35.093 21.2 C 35.093 27.145 39.948 32 45.893 32 C 51.838 32 56.693 27.145 56.693 21.2 C 56.693 15.255 51.854 10.4 45.893 10.4 L 45.893 10.4 L 45.893 10.4 Z  M 23.86 10.432 C 23.571 10.416 23.315 10.4 23.027 10.4 C 20.431 10.4 17.963 11.457 16.184 13.348 C 14.406 11.473 11.954 10.4 9.374 10.4 C 4.214 10.4 0 14.598 0 19.758 L 0 31.567 L 5.048 31.567 L 5.048 19.902 C 5.048 17.755 6.81 15.784 8.877 15.575 C 9.022 15.559 9.166 15.559 9.31 15.559 C 11.649 15.559 13.556 17.466 13.556 19.806 L 13.556 31.583 L 18.716 31.583 L 18.716 19.902 C 18.716 17.771 20.463 15.8 22.546 15.591 C 22.69 15.575 22.834 15.575 22.978 15.575 C 25.318 15.575 27.225 17.466 27.241 19.79 L 27.241 31.599 L 32.401 31.599 L 32.401 19.934 C 32.401 17.562 31.519 15.287 29.949 13.524 C 28.379 11.73 26.215 10.64 23.86 10.432 Z " fill-rule="evenodd" fill="currentColor"/></g></svg>',
      skrill: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate;margin-top:-2px;" viewBox="0 0 93.7 32" width="93.7pt" height="32pt"><defs><clipPath id="_clipPath_M49HovGryQu1jkxG5oViy7cW9kuTpPjZ"><rect width="93.7" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_M49HovGryQu1jkxG5oViy7cW9kuTpPjZ)"><linearGradient id="_lgradient_0" x1="0.00017645269359666872" y1="0.4996768105317504" x2="1.0000557911448227" y2="0.4996768105317504" gradientTransform="matrix(93.654,0,0,32,0,0)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-opacity="1" style="stop-color:rgb(135,33,102)"/><stop offset="100%" stop-opacity="1" style="stop-color:rgb(79,36,85)"/></linearGradient><path d=" M 74.474 3.139 L 82.272 1.751 L 82.272 31.67 L 74.474 31.67 L 74.474 3.139 Z  M 85.856 3.139 L 85.856 31.653 L 93.654 31.653 L 93.654 1.751 L 85.856 3.139 Z  M 63.389 31.653 L 71.186 31.653 L 71.186 9.78 L 63.389 9.78 L 63.389 31.653 Z  M 11.862 12.869 C 10.87 12.803 8.591 12.655 8.591 10.606 C 8.591 8.128 11.878 8.128 13.101 8.128 C 15.265 8.128 18.073 8.772 20.072 9.367 C 20.072 9.367 21.196 9.764 22.137 10.16 L 22.22 10.177 L 22.22 3.403 L 22.104 3.37 C 19.742 2.544 16.999 1.751 11.895 1.751 C 3.106 1.751 0 6.872 0 11.25 C 0 13.778 1.09 19.725 11.151 20.419 C 12.01 20.469 14.274 20.601 14.274 22.732 C 14.274 24.483 12.423 25.524 9.301 25.524 C 5.881 25.524 2.577 24.648 0.562 23.822 L 0.562 30.811 C 3.568 31.604 6.972 32 10.953 32 C 19.544 32 23.393 27.16 23.393 22.352 C 23.393 16.9 19.098 13.365 11.862 12.869 L 11.862 12.869 Z  M 58.994 9.466 C 51.791 9.697 48.14 12.935 48.14 19.362 L 48.14 31.67 L 56.004 31.67 L 56.004 21.625 C 56.004 17.776 56.5 16.124 61.076 15.975 L 61.076 9.565 C 60.283 9.417 58.994 9.466 58.994 9.466 L 58.994 9.466 Z  M 37.848 9.764 C 37.683 10.193 36.427 13.728 33.404 17.379 L 33.404 1.751 L 25.359 3.337 L 25.359 31.653 L 33.404 31.653 L 33.404 22.897 C 35.734 26.4 36.89 31.653 36.89 31.653 L 46.521 31.653 C 45.563 27.688 41.4 20.386 41.4 20.386 C 45.134 15.645 46.786 10.59 47.05 9.747 L 37.848 9.747 L 37.848 9.764 Z  M 67.271 7.682 C 69.386 7.682 71.12 5.964 71.12 3.849 C 71.12 1.735 69.402 0 67.271 0 C 65.156 0 63.438 1.718 63.438 3.849 C 63.438 5.964 65.156 7.682 67.271 7.682 Z " fill="url(#_lgradient_0)"/></g></svg>',
      amazonps: '<img src="data:image/png;base64,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" />',
      card: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 49.2 32" width="49.2pt" height="32pt"><defs><clipPath id="_clipPath_F37miHkBQzpnkhi4NVGdRrV73CUZ8Wug"><rect width="49.2" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_F37miHkBQzpnkhi4NVGdRrV73CUZ8Wug)"><path d="M 6.154 0 L 43.076 0 C 46.473 0 49.23 2.757 49.23 6.154 L 49.23 25.846 C 49.23 29.243 46.473 32 43.076 32 L 6.154 32 C 2.757 32 0 29.243 0 25.846 L 0 6.154 C 0 2.757 2.757 0 6.154 0 Z" style="stroke:none;fill:#CAD8DD;stroke-miterlimit:10;"/><path d=" M 13.178 25.486 C 12.955 25.708 12.648 25.846 12.308 25.846 L 7.385 25.846 C 6.705 25.846 6.154 25.295 6.154 24.615 C 6.154 23.936 6.705 23.385 7.385 23.385 L 12.308 23.385 C 12.987 23.385 13.538 23.936 13.538 24.615 C 13.538 24.955 13.401 25.263 13.178 25.486 Z " fill="rgb(161,185,191)"/><path d=" M 22.154 25.846 L 17.231 25.846 C 16.551 25.846 16 25.295 16 24.615 C 16 23.936 16.551 23.385 17.231 23.385 L 22.154 23.385 C 22.834 23.385 23.385 23.936 23.385 24.615 C 23.385 25.295 22.834 25.846 22.154 25.846 L 22.154 25.846 Z " fill="rgb(161,185,191)"/><path d=" M 32 25.846 L 27.077 25.846 C 26.397 25.846 25.846 25.295 25.846 24.615 C 25.846 23.936 26.397 23.385 27.077 23.385 L 32 23.385 C 32.68 23.385 33.231 23.936 33.231 24.615 C 33.231 25.295 32.68 25.846 32 25.846 Z " fill="rgb(161,185,191)"/><path d=" M 41.846 25.846 L 36.923 25.846 C 36.243 25.846 35.692 25.295 35.692 24.615 C 35.692 23.936 36.243 23.385 36.923 23.385 L 41.846 23.385 C 42.526 23.385 43.077 23.936 43.077 24.615 C 43.077 25.295 42.526 25.846 41.846 25.846 Z " fill="rgb(161,185,191)"/><circle vector-effect="non-scaling-stroke" cx="32.61538461538462" cy="10.461538461538513" r="4.307692307692308" fill="rgb(232,84,84)"/><circle vector-effect="non-scaling-stroke" cx="38.7692307692308" cy="10.461538461538513" r="4.307692307692307" fill="rgb(255,168,64)"/><path d="M 9.151 6.15 L 12.999 6.15 C 14.655 6.15 16 7.495 16 9.152 L 16 11.768 C 16 13.425 14.655 14.77 12.999 14.77 L 9.151 14.77 C 7.495 14.77 6.15 13.425 6.15 11.768 L 6.15 9.152 C 6.15 7.495 7.495 6.15 9.151 6.15 Z" style="stroke:none;fill:#DDE5E8;stroke-miterlimit:10;"/></g></svg>',
      applepay: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_1rmnRhUlseMOajw5aMG9To3KNUCDbngK"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_1rmnRhUlseMOajw5aMG9To3KNUCDbngK)"><path d=" M 24.733 17.001 C 24.778 21.843 28.982 23.455 29.028 23.475 C 28.992 23.589 28.356 25.772 26.814 28.027 C 25.48 29.976 24.095 31.918 21.915 31.959 C 19.772 31.998 19.083 30.688 16.634 30.688 C 14.185 30.688 13.419 31.918 11.391 31.998 C 9.286 32.078 7.683 29.89 6.338 27.948 C 3.59 23.975 1.49 16.721 4.31 11.825 C 5.711 9.393 8.214 7.854 10.932 7.814 C 12.998 7.775 14.949 9.205 16.213 9.205 C 17.475 9.205 19.846 7.485 22.338 7.737 C 23.382 7.781 26.311 8.159 28.191 10.912 C 28.04 11.006 24.697 12.952 24.733 17.001 M 20.706 5.109 C 21.824 3.757 22.576 1.873 22.371 0 C 20.76 0.065 18.812 1.073 17.657 2.425 C 16.622 3.622 15.715 5.539 15.959 7.375 C 17.755 7.514 19.589 6.463 20.706 5.109 Z " fill="rgb(255,255,255)"/></g></svg>',
      googlepay: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_vvX0joiXLDId7wtRDPj2pb9sUY342br3"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_vvX0joiXLDId7wtRDPj2pb9sUY342br3)"><path d=" M 31.709 16.367 C 31.709 15.276 31.587 14.185 31.466 13.095 L 16.318 13.095 L 16.318 19.275 L 24.922 19.275 C 24.559 21.214 23.468 23.032 21.772 24.123 L 21.772 28.122 L 26.983 28.122 C 30.012 25.335 31.709 21.214 31.709 16.367" fill="rgb(66,133,244)"/><path d=" M 16.318 32 C 20.681 32 24.316 30.546 26.982 28.122 L 21.772 24.123 C 20.317 25.092 18.499 25.698 16.318 25.698 C 12.198 25.698 8.562 22.911 7.35 19.033 L 2.018 19.033 L 2.018 23.153 C 4.805 28.607 10.259 32 16.318 32" fill="rgb(52,168,83)"/><path d=" M 7.35 19.033 C 6.623 17.094 6.623 14.913 7.35 12.852 L 7.35 8.732 L 2.018 8.732 C -0.285 13.216 -0.285 18.548 2.018 23.153 L 7.35 19.033 Z " fill="rgb(251,188,4)"/><path d=" M 16.318 6.308 C 18.621 6.308 20.802 7.157 22.499 8.732 L 27.104 4.127 C 24.195 1.461 20.317 -0.115 16.439 0.007 C 10.38 0.007 4.805 3.4 2.139 8.853 L 7.471 12.974 C 8.562 9.096 12.198 6.308 16.318 6.308 Z " fill="rgb(234,67,53)"/></g></svg>',
      paypal: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 27.13 32" width="27.13pt" height="32pt"><defs><clipPath id="_clipPath_2eybzjPWSJuKrLjRtl57yLpc03BtBtDQ"><rect width="27.13" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_2eybzjPWSJuKrLjRtl57yLpc03BtBtDQ)"><path d=" M 23.011 2.491 C 21.535 0.808 18.866 0.086 15.452 0.086 L 5.542 0.086 C 4.844 0.086 4.25 0.594 4.141 1.283 L 0.015 27.452 C -0.067 27.968 0.332 28.435 0.855 28.435 L 6.973 28.435 L 8.509 18.69 L 8.462 18.995 C 8.571 18.306 9.16 17.798 9.858 17.798 L 12.765 17.798 C 18.476 17.798 22.948 15.478 24.254 8.768 C 24.293 8.57 24.327 8.376 24.356 8.188 Q 24.108 8.057 24.356 8.188 C 24.745 5.708 24.353 4.019 23.011 2.491" fill="rgb(39,52,106)"/><path d=" M 10.85 7.294 C 11.017 7.215 11.2 7.173 11.386 7.174 L 19.154 7.174 C 20.074 7.174 20.932 7.233 21.717 7.36 C 21.936 7.395 22.154 7.436 22.371 7.485 C 22.678 7.553 22.982 7.636 23.281 7.734 C 23.667 7.862 24.026 8.012 24.356 8.188 C 24.745 5.707 24.353 4.019 23.011 2.491 C 21.534 0.808 18.866 0.086 15.452 0.086 L 5.541 0.086 C 4.844 0.086 4.25 0.594 4.141 1.283 L 0.015 27.451 C -0.067 27.968 0.332 28.434 0.854 28.434 L 6.973 28.434 L 10.161 8.22 C 10.224 7.817 10.482 7.471 10.85 7.294" fill="rgb(39,52,106)"/><path d=" M 24.254 8.768 C 22.948 15.478 18.476 17.798 12.765 17.798 L 9.857 17.798 C 9.159 17.798 8.57 18.306 8.462 18.995 L 6.55 31.112 C 6.479 31.564 6.828 31.973 7.285 31.973 L 12.442 31.973 C 13.052 31.973 13.572 31.529 13.667 30.926 L 13.718 30.663 L 14.69 24.503 L 14.752 24.163 C 14.848 23.56 15.367 23.116 15.977 23.116 L 16.749 23.116 C 21.745 23.116 25.657 21.086 26.8 15.217 C 27.277 12.764 27.03 10.716 25.768 9.277 C 25.385 8.841 24.909 8.481 24.356 8.188 C 24.326 8.377 24.293 8.57 24.254 8.768" fill="rgb(39,144,195)"/><path d=" M 22.989 7.643 C 22.785 7.583 22.579 7.531 22.372 7.485 C 22.155 7.437 21.937 7.396 21.718 7.36 C 20.933 7.233 20.075 7.173 19.154 7.173 L 11.386 7.173 C 11.201 7.173 11.018 7.215 10.851 7.295 C 10.482 7.471 10.224 7.818 10.161 8.221 L 8.51 18.69 L 8.463 18.995 C 8.571 18.306 9.16 17.798 9.858 17.798 L 12.766 17.798 C 18.477 17.798 22.949 15.478 24.255 8.768 C 24.294 8.57 24.327 8.377 24.357 8.188 Q 23.86 7.926 23.282 7.734 C 23.185 7.702 23.087 7.672 22.989 7.643" fill="rgb(31,38,79)"/></g></svg>',
      cashapp: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_ky3ixjwSJtjiESvL3NGqGIUc8slVcQME"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_ky3ixjwSJtjiESvL3NGqGIUc8slVcQME)"><path d=" M 25.089 10.041 C 24.71 10.392 24.127 10.4 23.737 10.061 C 21.917 8.524 19.613 7.681 17.232 7.678 C 15.273 7.678 13.312 8.324 13.312 10.121 C 13.312 11.94 15.413 12.546 17.838 13.454 C 22.08 14.869 25.594 16.647 25.594 20.809 C 25.594 25.333 22.08 28.444 16.343 28.788 L 15.818 31.212 C 15.721 31.671 15.316 31.999 14.848 32 L 11.232 32 L 11.05 31.98 C 10.513 31.858 10.172 31.329 10.282 30.789 L 10.848 28.222 C 8.669 27.679 6.666 26.587 5.029 25.051 L 5.029 25.031 C 4.846 24.849 4.743 24.602 4.743 24.344 C 4.743 24.086 4.846 23.839 5.029 23.657 L 7.051 21.698 C 7.431 21.342 8.023 21.342 8.403 21.698 C 10.252 23.443 12.709 24.4 15.251 24.364 C 17.879 24.364 19.635 23.253 19.635 21.495 C 19.635 19.737 17.858 19.273 14.505 18.021 C 10.949 16.749 7.575 14.949 7.575 10.749 C 7.575 5.86 11.635 3.476 16.444 3.254 L 16.949 0.768 C 17.046 0.313 17.452 -0.01 17.918 0 L 21.514 0 L 21.717 0.022 C 21.969 0.074 22.189 0.226 22.33 0.441 C 22.47 0.657 22.518 0.92 22.464 1.172 L 21.918 3.94 C 23.752 4.547 25.453 5.501 26.928 6.749 L 26.969 6.788 C 27.353 7.193 27.353 7.799 26.969 8.162 L 25.089 10.041 Z " fill="rgb(0,207,48)"/></g></svg>',
      venmo: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_2qlSQMHNvjDyrsV8q9uC8zHqtVDZcs3X"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_2qlSQMHNvjDyrsV8q9uC8zHqtVDZcs3X)"><path d=" M 29.333 0 C 30.471 1.92 31.004 3.893 31.004 6.4 C 31.004 14.364 24.196 24.729 18.667 32 L 6.062 32 L 0.996 1.778 L 12.036 0.693 L 14.72 22.222 C 17.227 18.151 20.302 11.751 20.302 7.396 C 20.302 4.996 19.893 3.378 19.253 2.044 L 29.333 0 Z " fill="rgb(0,141,255)"/></g></svg>',
      bitcoin: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_WeUJMnfmQy6GXT3EOZc2sUqbpsSYIvXQ"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_WeUJMnfmQy6GXT3EOZc2sUqbpsSYIvXQ)"><path d=" M 28.023 12.864 C 28.519 9.496 25.968 7.699 22.455 6.48 L 23.594 1.941 L 20.82 1.251 L 19.714 5.678 L 17.5 5.149 L 18.621 0.69 L 15.848 0 L 14.711 4.555 L 12.946 4.139 L 12.946 4.123 L 9.112 3.16 L 8.375 6.126 C 8.375 6.126 10.428 6.61 10.396 6.624 C 11.519 6.914 11.711 7.651 11.679 8.229 L 10.396 13.426 L 10.684 13.522 L 10.38 13.458 L 8.567 20.723 C 8.439 21.061 8.085 21.574 7.3 21.365 C 7.332 21.413 5.295 20.885 5.295 20.885 L 3.916 24.045 L 7.525 24.941 L 9.498 25.456 L 8.343 30.059 L 11.117 30.747 L 12.24 26.194 L 14.469 26.77 L 13.332 31.309 L 16.106 32 L 17.244 27.397 C 21.976 28.293 25.538 27.941 27.029 23.658 C 28.232 20.211 26.965 18.237 24.479 16.922 C 26.292 16.522 27.655 15.318 28.007 12.864 L 28.023 12.864 Z  M 21.687 21.75 C 20.836 25.2 15.031 23.322 13.154 22.874 L 14.677 16.762 C 16.552 17.243 22.584 18.157 21.685 21.734 L 21.687 21.75 Z  M 22.536 12.816 C 21.767 15.944 16.922 14.355 15.367 13.971 L 16.744 8.437 C 18.317 8.822 23.352 9.56 22.536 12.816 Z " fill="rgb(247,147,26)"/></g></svg>',
      litecoin: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="32pt" height="32pt"><defs><clipPath id="_clipPath_mwf3GoFiGyQ61RW4NFrophJrGkPlKfc9"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_mwf3GoFiGyQ61RW4NFrophJrGkPlKfc9)"><path d=" M 4.861 22.419 L 2 23.539 L 3.379 18 L 6.259 16.84 L 10.419 0 L 20.68 0 L 17.64 12.4 L 20.461 11.259 L 19.101 16.741 L 16.259 17.901 L 14.56 25.142 L 30 25.142 L 28.259 32 L 2.499 32 L 4.861 22.419 Z " fill="rgb(52,93,157)"/></g></svg>',
    };

    Alpine.data('productForm', () => ({
      allPaymentMethods: [
        {
          id: 'POINTS',
          name: 'Points / Credit Card',
          via: paymentMethodSvgs.sellauth,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.points_fee if shop.points_fee|length else 0.00 }},
          minAmount: null,
          maxAmount: null
        },
        {
          id: 'STRIPE',
          name: 'Credit Card / Apple Pay / Google Pay',
          via: paymentMethodSvgs.stripe,
          icons: [paymentMethodSvgs.applepay, paymentMethodSvgs.googlepay, paymentMethodSvgs.card],
          fee: {{ shop.stripe_fee }},
          minAmount: {{ shop.stripe_min_amount if shop.stripe_min_amount|length else 'null' }},
          maxAmount: {{ shop.stripe_max_amount if shop.stripe_max_amount|length else 'null' }}
        },
        {
          id: 'SQUARE',
          name: 'Credit Card',
          via: paymentMethodSvgs.square,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.square_fee }},
          minAmount: {{ shop.square_min_amount if shop.square_min_amount|length else 'null' }},
          maxAmount: {{ shop.square_max_amount if shop.square_max_amount|length else 'null' }}
        },
        {
          id: 'SUMUP',
          name: 'Credit Card',
          via: paymentMethodSvgs.sumup,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.sumup_fee }},
          minAmount: {{ shop.sumup_min_amount if shop.sumup_min_amount|length else 'null' }},
          maxAmount: {{ shop.sumup_max_amount if shop.sumup_max_amount|length else 'null' }}
        },
        {
          id: 'MOLLIE',
          name: 'Credit Card',
          via: paymentMethodSvgs.mollie,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.mollie_fee }},
          minAmount: {{ shop.mollie_min_amount if shop.mollie_min_amount|length else 'null' }},
          maxAmount: {{ shop.mollie_max_amount if shop.mollie_max_amount|length else 'null' }}
        },
        {
          id: 'SKRILL',
          name: 'Credit Card',
          via: paymentMethodSvgs.skrill,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.skrill_fee }},
          minAmount: {{ shop.skrill_min_amount if shop.skrill_min_amount|length else 'null' }},
          maxAmount: {{ shop.skrill_max_amount if shop.skrill_max_amount|length else 'null' }}
        },
        {
          id: 'AMAZONPS',
          name: 'Credit Card',
          via: paymentMethodSvgs.amazonps,
          icons: [paymentMethodSvgs.card],
          fee: {{ shop.amazonps_fee }},
          minAmount: {{ shop.amazonps_min_amount if shop.amazonps_min_amount|length else 'null' }},
          maxAmount: {{ shop.amazonps_max_amount if shop.amazonps_max_amount|length else 'null' }}
        },
        {
          id: 'PAYPAL',
          name: 'PayPal (Goods & Services)',
          icons: [paymentMethodSvgs.paypal],
          fee: {{ shop.paypal_fee }},
          minAmount: {{ shop.paypal_min_amount if shop.paypal_min_amount|length else 'null' }},
          maxAmount: {{ shop.paypal_max_amount if shop.paypal_max_amount|length else 'null' }}
        },
        {
          id: 'PAYPALFF',
          name: 'PayPal (Friends & Family)',
          icons: [paymentMethodSvgs.paypal],
          fee: {{ shop.paypalff_fee }},
          minAmount: {{ shop.paypalff_min_amount if shop.paypalff_min_amount|length else 'null' }},
          maxAmount: {{ shop.paypalff_max_amount if shop.paypalff_max_amount|length else 'null' }}
        },
        {
          id: 'CASHAPP',
          name: 'Cash App',
          icons: [paymentMethodSvgs.cashapp],
          fee: {{ shop.cashapp_fee }},
          minAmount: {{ shop.cashapp_min_amount if shop.cashapp_min_amount|length else 'null' }},
          maxAmount: {{ shop.cashapp_max_amount if shop.cashapp_max_amount|length else 'null' }}
        },
        {
          id: 'VENMO',
          name: 'Venmo',
          icons: [paymentMethodSvgs.venmo],
          fee: {{ shop.venmo_fee }},
          minAmount: {{ shop.venmo_min_amount if shop.venmo_min_amount|length else 'null' }},
          maxAmount: {{ shop.venmo_max_amount if shop.venmo_max_amount|length else 'null' }}
        },
        {
          id: 'BTC',
          name: 'Bitcoin',
          icons: [paymentMethodSvgs.bitcoin],
          fee: {{ shop.bitcoin_fee }},
          minAmount: {{ shop.bitcoin_min_amount if shop.bitcoin_min_amount|length else 'null' }},
          maxAmount: {{ shop.bitcoin_max_amount if shop.bitcoin_max_amount|length else 'null' }}
        },
        {
          id: 'LTC',
          name: 'Litecoin',
          icons: [paymentMethodSvgs.litecoin],
          fee: {{ shop.litecoin_fee }},
          minAmount: {{ shop.litecoin_min_amount if shop.litecoin_min_amount|length else 'null' }},
          maxAmount: {{ shop.litecoin_max_amount if shop.litecoin_max_amount|length else 'null' }}
        },
      ],
      shopPaymentMethods: {{ shop.valid_payment_methods | json }},
      product: {{ product | json }},
      activeVariant: 0,
      quantity: {{ product.quantity_min or 1 }},
      emailAddress: '',
      customFields: {},
      couponCode: '',
      appliedCoupon: null,
      couponError: '',
      couponSuccess: '',
      isCheckingCoupon: false,
      paymentMethod: '',
      recaptchaToken: null,
      connectDiscordInterval: null,
      discordUser: null,
      tos: false,
      newsletter: false,
      emailInvalid: false,
      methodInvalid: false,
      quantityInvalid: false,
      discordUserInvalid: false,
      tosInvalid: false,
      customFieldsInvalid: {},
      paymentError: '',
      isSubmitting: false,
      isEmbed: {{ 'true' if is_embed else 'false' }},
      invoiceUrl: '',

      init() {
        // Choose the first variant that has stock.
        if (this.product.type == 'variant') {
          for (let i = 0; i < this.product.variants.length; i++) {
            if (this.product.variants[i].stock !== 0) {
              this.activeVariant = i;
              break;
            }
          }

          if (!this.activeVariant) {
            this.activeVariant = 0;
          }
        }

        // Prefill custom fields.
        for (const field of this.product.custom_fields) {
          if (field.default) {
            if (field.type == 'checkbox') {
              this.customFields[field.id] = field.default == '1';
            } else {
              this.customFields[field.id] = field.default;
            }
          }
        }

        const that = this;

        // Prefill info from query params.
        const urlParams = new URLSearchParams(window.location.search);
        
        if (urlParams.has('quantity')) {
          this.quantity = parseInt(urlParams.get('quantity'));
        }

        if (urlParams.has('email')) {
          this.emailAddress = urlParams.get('email');
        }

        if (urlParams.has('method')) {
          this.paymentMethod = urlParams.get('method');
        }
        
        if (urlParams.has('variant')) {
          const variantIndex = this.product.variants.findIndex(variant => variant.name === urlParams.get('variant'));
          if (variantIndex !== -1) {
            this.activeVariant = variantIndex;
          }
        }

        if (localStorage.getItem(`productForm.${this.product.id}`)) {
          const localFormData = JSON.parse(localStorage.getItem(`productForm.${this.product.id}`));

          if (localFormData.coupon) this.couponCode = localFormData.coupon;
          if (localFormData.email) this.emailAddress = localFormData.email;
          if (localFormData.gateway) this.paymentMethod = localFormData.gateway;
          if (localFormData.amount) this.quantity = localFormData.amount;
          
          if (localFormData.custom_fields) {
            for (const key in localFormData.custom_fields) {
              this.customFields[key] = localFormData.custom_fields[key]?.value || '';
            }
          }

          localStorage.removeItem(`productForm.${this.product.id}`);
        }

        if (localStorage.getItem(`discordUser`)) {
          const localDiscord = JSON.parse(localStorage.getItem(`discordUser`));
          if (localDiscord.expires_at > Math.floor(Date.now() / 1000)) {
            this.discordUser = localDiscord;
          } else {
            localStorage.removeItem(`discordUser`);
          }
        }
      },

      formatPrice(price) {
        return new Intl.NumberFormat('en-US', {
          style: 'currency',
          currency: '{{ product.currency }}',
          currencyDisplay: 'symbol'
        }).format(price);
      },

      get methods() {
        let productPaymentMethods = JSON.parse(this.product.payment_methods) || [];
        let upperProductPaymentMethods = productPaymentMethods.map(method => method.toUpperCase());

        const productHasNoMethods = upperProductPaymentMethods.length == 0;

        return this.allPaymentMethods.filter(method => {
          const shopHasMethod = this.shopPaymentMethods.includes(method.id);
          const productHasMethod = productHasNoMethods || upperProductPaymentMethods.includes(method.id);

          return shopHasMethod && productHasMethod;
        });
      },

      get singleUnitPrice() {
        let variant, price;

        if (this.product.type == 'variant') {
          variant = this.product.variants[this.activeVariant];
          price = variant.price;
        } else {
          price = this.product.price;
        }

        return price;
      },

      get subTotalPrice() {
        let variant, price;

        if (this.product.type == 'variant') {
          variant = this.product.variants[this.activeVariant];
          price = variant.price;
        } else {
          price = this.product.price;
        }

        price = price * this.quantity;

        return price;
      },

      get totalPrice() {
        let variant, priceBeforeDiscounts, price, stock;

        if (this.product.type == 'variant') {
          variant = this.product.variants[this.activeVariant];
          price = variant.price;
        } else {
          price = this.product.price;
        }

        price = price * this.quantity;
        priceBeforeDiscounts = price;

        // Get the active payment method fee
        const activePaymentMethod = this.methods.find(method => method.id == this.paymentMethod);
        if (activePaymentMethod) {
          activePaymentMethodFee = activePaymentMethod.fee;
        } else {
          activePaymentMethodFee = 0;
        }

        // Add the payment method fee to the price (can be fee or discount %)
        price = price + (priceBeforeDiscounts * activePaymentMethodFee / 100);

        // Apply volume discounts
        if (this.product.volume_discounts) {
          const volumeDiscounts = this.product.volume_discounts.sort((a, b) => b.quantity - a.quantity);

          for (const volumeDiscount of volumeDiscounts) {
            if (this.quantity >= parseInt(volumeDiscount.quantity)) {
              price = price - (priceBeforeDiscounts * parseInt(volumeDiscount.percentage) / 100);
              break;
            }
          }
        }

        // Apply coupon discount
        if (this.appliedCoupon) {
          if (this.appliedCoupon.type == 'percentage') {
            price = price - (priceBeforeDiscounts * this.appliedCoupon.discount / 100);
          } else {
            price = price - this.appliedCoupon.discount;
          }
        }

        // If price is negative, set it to 0
        if (price < 0) {
          price = 0;
        }

        // Format the price to have 2 decimal places
        const formattedPrice = price.toFixed(2);

        return formattedPrice;
      },

      get outOfStock() {
        if (this.product.type == 'variant') {
          return this.activeVariant != null ? this.product.variants[this.activeVariant].stock === 0 : true;
        } else {
          return this.product.stock === 0;
        }
      },

      get maxQuantity() {
        // Maximum quantity is either the defined max quantity (if set), or the number of deliverables.
        if (this.product.type == 'variant') {
          const maxStock = this.product.variants[this.activeVariant].stock === -1 ? 10000 : this.product.variants[this.activeVariant].stock;
          const definedMaxQuantity = this.product.variants[this.activeVariant].quantity_max || this.product.quantity_max || 10000;
          return Math.min(definedMaxQuantity, maxStock);
        } else {
          const definedMaxQuantity = this.product.quantity_max || 10000;
          const maxStock = this.product.stock === -1 ? 10000 : this.product.stock;
          return Math.min(definedMaxQuantity, maxStock);
        }
      },

      get minQuantity() {
        if (this.product.type == 'variant') {
          return this.product.variants[this.activeVariant].quantity_min || this.product.quantity_min || 1;
        } else {
          return this.product.quantity_min || 1;
        }
      },

      get availableVolumeDiscount() {
        if (this.product.volume_discounts) {
          const volumeDiscounts = this.product.volume_discounts.sort((a, b) => a.quantity - b.quantity);

          for (const volumeDiscount of volumeDiscounts) {
            if (this.quantity < parseInt(volumeDiscount.quantity)) {
              return volumeDiscount;
            }
          }
        }

        return null;
      },

      get appliedVolumeDiscount() {
        if (this.product.volume_discounts) {
          const volumeDiscounts = this.product.volume_discounts.sort((a, b) => b.quantity - a.quantity);

          for (const volumeDiscount of volumeDiscounts) {
            if (this.quantity >= parseInt(volumeDiscount.quantity)) {
              return volumeDiscount;
            }
          }
        }

        return null;
      },

      get appliedPaymentMethodFee() {
        const activePaymentMethod = this.methods.find(method => method.id == this.paymentMethod);
        if (activePaymentMethod) {
          return activePaymentMethod.fee;
        } else {
          return 0;
        }
      },

      get appliedCouponDiscount() {
        if (this.appliedCoupon) {
          if (this.appliedCoupon.type == 'percentage') {
            return this.subTotalPrice * this.appliedCoupon.discount / 100;
          } else {
            return this.appliedCoupon.discount;
          }
        }

        return 0;
      },

      quantityDecrease() {
        if (this.quantity > this.minQuantity) {
          this.quantity--;
        }
      },

      quantityIncrease() {
        if (this.quantity < this.maxQuantity) {
          this.quantity++;
        }
      },

      async checkCoupon() {
        if (this.isCheckingCoupon) {
          return;
        }

        this.isCheckingCoupon = true;
        this.appliedCoupon = null;
        this.couponError = '';
        this.couponSuccess = '';

        try {
          const response = await fetch('{{ '/v1/coupon/check' | apiInternalUrl }}', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              product: this.product.id,
              coupon: this.couponCode
            })
          });

          const responseData = await response.json();

          if (!responseData.coupon) {
            this.couponError = responseData.message || 'Invalid coupon code.';
            return;
          }

          this.couponError = '';
          this.couponSuccess = 'Coupon applied successfully.';
          this.appliedCoupon = responseData.coupon;
        } catch (error) {
          this.couponError = 'Error in the AJAX request.';
        } finally {
          this.isCheckingCoupon = false;
        }
      },

      {% if shop.discord_integration_enabled and product.discord_guild_id %}
      async connectDiscord() {
        if (this.discordUser) {
          return;
        }

        window.open(window.location.origin + '/discord/login-redirect', '_blank');

        this.connectDiscordInterval = setInterval(async () => {
          try {
            const response = await fetch('/discord/check', {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
                'X-Requested-With': 'XMLHttpRequest'
              }
            });

            const responseData = await response.json();

            if (responseData.user) {
              clearInterval(this.connectDiscordInterval);
              this.connectDiscordInterval = null;
              this.discordUser = responseData.user;
              localStorage.setItem('discordUser', JSON.stringify(responseData.user));
            }
          } catch (error) {
          }
        }, 2000);
      },

      async disconnectDiscord() {
        try {
          const response = await fetch('/discord/logout', {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              'X-Requested-With': 'XMLHttpRequest'
            }
          });

          this.discordUser = null;
          localStorage.removeItem('discordUser');
        } catch (error) {
          console.error('Error in the AJAX request');
        }
      },
      {% endif %}

      async generateRecaptchaToken() {
        {% if shop.recaptcha_key %}
        return new Promise((resolve) => {
          grecaptcha.ready(
            () =>
              void (async () => {
                const token = await grecaptcha.execute(
                  '{{ shop.recaptcha_key }}',
                  { action: 'invoice_s{{ shop.id }}_p{{ product.id }}' },
                );

                resolve(token);
              })(),
          );
        });
        {% else %}
        return null;
        {% endif %}
      },

      async onSubmit() {
        if (this.isSubmitting) {
          return;
        }

        this.emailInvalid = (this.emailAddress == '' || !this.emailAddress.match(/^[^@]+@[^@]+$/));
        
        this.quantityInvalid = (this.quantity == '' || this.quantity < 1 || this.quantity > this.maxQuantity);

        const activePaymentMethod = this.methods.find(method => method.id === this.paymentMethod);

        this.methodInvalid = !activePaymentMethod ||
                            (activePaymentMethod.minAmount && this.totalPrice < activePaymentMethod.minAmount) ||
                            (activePaymentMethod.maxAmount && this.totalPrice > activePaymentMethod.maxAmount);

        this.customFieldsInvalid = {};
        
        for (const field of this.product.custom_fields) {
          if (field.is_required && !this.customFields[field.id]) {
            this.customFieldsInvalid[field.id] = true;
          }

          if (field.regex && this.customFields[field.id]) {
            try {
              const regex = new RegExp(field.regex);
              if (!regex.test(this.customFields[field.id])) {
                this.customFieldsInvalid[field.id] = true;
              }
            } catch (error) {
              console.error('Invalid regex for custom field', field.id, field.regex, error);
            }
          }
        }

        const isOneCustomFieldInvalid = Object.values(this.customFieldsInvalid).some(value => value);

        {% if shop.discord_integration_enabled and product.discord_required and product.discord_guild_id %}
        this.discordUserInvalid = !this.discordUser;
        {% endif %}

        {% if not is_embed %}
        this.tosInvalid = !this.tos;
        {% endif %}

        if (this.emailInvalid || this.methodInvalid || this.quantityInvalid || this.discordUserInvalid || this.tosInvalid || isOneCustomFieldInvalid) {
          return;
        }

        this.isSubmitting = true;
        this.paymentError = '';
        this.invoiceUrl = '';

        try {
          this.recaptchaToken = await this.generateRecaptchaToken();
        } catch (error) {
          this.paymentError = 'reCAPTCHA cannot be loaded. Please refresh the page and turn off any ad blockers.';
          this.isSubmitting = false;
          return;
        }

        let formData = {
          product: this.product.id,
          coupon: this.couponCode === '' ? null : this.couponCode,
          email: this.emailAddress,
          custom_fields: this.customFields,
          gateway: this.paymentMethod,
          amount: this.quantity,
          discord_user_id: this.discordUser ? this.discordUser.id : null,
          discord_user_username: this.discordUser ? this.discordUser.username : null,
          discord_access_token: this.discordUser ? this.discordUser.access_token : null,
          newsletter: this.newsletter,
          google_recaptcha_token_v3: this.recaptchaToken,
        };

        if (this.product.type == 'variant') {
          formData.variant = this.product.variants[this.activeVariant].id;
        }

        try {
          this.isSubmitting = true;

          const response = await fetch('{{ '/v1/invoice/create' | apiInternalUrl }}', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
          });

          const responseData = await response.json();

          if (!responseData.success) {
            this.paymentError = responseData.message || 'Error in the AJAX request.';
            return;
          }
          
          if (responseData.url) {
            this.invoiceUrl = responseData.url;

            // Open in new tab if we're in an embed.
            if (this.isEmbed) {
              window.open(responseData.url, '_blank');
              $('#loading-modal').modal('show');
            } else {
              window.location.href = responseData.url;
            }
          }
        } catch (error) {
          if (error.toString().includes('NetworkError')) {
            localStorage.setItem(`productForm.${this.product.id}`, JSON.stringify(formData));

            window.location.reload();
          }

          console.error(error);
          this.paymentError = 'Error in the AJAX request.';
        } finally {
          this.isSubmitting = false;
        }
      }
    }));
  });
</script>